{% extends "layouts/base.html" %}

{% block title %} Employees {% endblock %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}
<!-- <style>
  .table-responsive {
    max-height: 425px;
  } -->
</style>
{% endblock stylesheets %}

{% block content %}


<div class="countainer">
  <div class="row ml-1">

    <div class="col-9 ">
      <div class="card">
        <div class="card-header card-header-primary">
          <h4 class="card-title ">Employees</h4>
          <div class="d-flex justify-content-between">
            <div class="p-2">
            </div>
            <div class="p-2"> <a href="{% url 'addEmployee' %}" class="btn btn-sm btn-secondary ">Add employee
                &nbsp;<i class="material-icons">person_add_alt</i> </a></div>
          </div>
        </div>
        <div class="card-body text-center">
          <div class="table-responsive">
            {% if employees %}
            <table class="table text-center">
              <thead class=" text-primary">
                <tr>
                  <th>

                  </th>
                  <th>
                    Name
                  </th>
                  <th>
                    Desk Number
                  </th>
                  <th>
                    Service
                  </th>
                  <th>
                    Edit
                  </th>
                  <th>
                    Delete
                  </th>
                </tr>
              </thead>
              <tbody>

                {% for emp in employees %}

                <tr>
                  <td>
                    <a href="{% url 'viewEmployee' emp.user.id %}" class="btn btn-sm btn-info"> View </a>
                  </td>
                  <td>
                    {{emp.user}}
                  </td>
                  <td>
                    {{emp.desk_num}}
                  </td>
                  <td>
                    {{emp.Service}}<span class="material-icons-round">

                    </span>
                  </td>
                  <td class="text-primary">
                    <a href="{% url 'updateEmployee' emp.user.id %}" class="btn btn-sm btn-info">
                      <dev class="material-icons">edit</dev>
                    </a>
                  </td>
                  <td class="text-primary">
                    <a href="{% url 'deleteEmployee' emp.user.id %}" class="btn btn-sm btn-danger">
                      <dev class="material-icons">delete</dev>
                    </a>
                  </td>
                </tr>
                {% endfor %}






              </tbody>
            </table>
            {% else %}
            <br><br>
            <h3>Sorry, there are no employees</h3>
            <br><br>
            {% endif %}



          </div>
        </div>

      </div>


    </div>
    <div class="col-3 ">
      <div class="card">
        <div class="card-header card-header-primary">
          <h4 class="card-title text-center">Employees Filter</h4>


        </div>
        <div class="card-body p-3 text-center">

          <br>

          <div class="form-group ">
            <form method="GET">

              <!-- {{uNameFilter.form}} -->
              {{empFilter.form.user__username}}
              {{empFilter.form.desk_num}}



              <div class="row justify-content-between">
                <div class="col-1 align-self-end"><label>Service:</label>
                </div>
                <div class="col-9 align-self-end ">{{empFilter.form.Service}}</div>

              </div>

              <br><br>
              <button class="btn btn-primary my-2 my-sm-0 btn-round" type="submit">Filter</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock%}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}
{% endblock javascripts %}